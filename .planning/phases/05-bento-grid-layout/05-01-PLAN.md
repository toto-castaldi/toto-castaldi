---
phase: 05-bento-grid-layout
plan: 01
type: execute
wave: 1
depends_on: []
files_modified: [assets/css/main.css]
autonomous: true
requirements: [LAYOUT-01, LAYOUT-02, LAYOUT-03, STYLE-01, STYLE-04]

must_haves:
  truths:
    - "Desktop viewport (>1024px) shows 3 project cards side by side"
    - "Tablet viewport (481-1024px) shows 2 columns with cards reflowing"
    - "Mobile viewport (<=480px) shows 1 column with stacked cards"
    - "Cards have rounded corners using a design token"
    - "Card typography uses fluid scale tokens consistently across all breakpoints"
    - "Dark mode toggle still works in all 4 states after CSS changes"
  artifacts:
    - path: "assets/css/main.css"
      provides: "Responsive grid columns, border-radius token, verified typography"
      contains: "grid-template-columns"
  key_links:
    - from: "assets/css/main.css (.project-cards)"
      to: "assets/css/main.css (:root --radius-card)"
      via: "CSS custom property reference"
      pattern: "var\\(--radius-card\\)"
    - from: "assets/css/main.css (@media min-width: 481px)"
      to: "assets/css/main.css (.project-cards)"
      via: "media query overriding grid-template-columns"
      pattern: "grid-template-columns.*repeat\\(2"
    - from: "assets/css/main.css (@media min-width: 1025px)"
      to: "assets/css/main.css (.project-cards)"
      via: "media query overriding grid-template-columns"
      pattern: "grid-template-columns.*repeat\\(3"
---

<objective>
Add responsive CSS Grid columns to `.project-cards` (3-col desktop, 2-col tablet, 1-col mobile) and update card border-radius to use a design token.

Purpose: Transform the single-column card layout into a responsive bento grid that uses the full 1080px container width on desktop while gracefully adapting to narrower viewports.
Output: Updated `assets/css/main.css` with responsive grid and border-radius token.
</objective>

<execution_context>
@/home/toto/.claude/get-shit-done/workflows/execute-plan.md
@/home/toto/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/05-bento-grid-layout/05-RESEARCH.md
@.planning/phases/04-design-tokens-and-container/04-01-SUMMARY.md
@assets/css/main.css
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add mobile-first responsive grid columns to .project-cards</name>
  <files>assets/css/main.css</files>
  <action>
Add `grid-template-columns: 1fr` to the existing `.project-cards` rule (mobile-first default, single column).

Then add two NEW media query blocks AFTER the `.project-cards` rule (but BEFORE the `.project-card` rule). Place them in the "Layout Components" section, keeping them close to the `.project-cards` base rule:

```css
/* Tablet: 2 columns */
@media (min-width: 481px) {
  .project-cards {
    grid-template-columns: repeat(2, 1fr);
  }
}

/* Desktop: 3 columns */
@media (min-width: 1025px) {
  .project-cards {
    grid-template-columns: repeat(3, 1fr);
  }
}
```

Breakpoint rationale:
- Default (no query) = 1fr = single column for mobile (<=480px) -- LAYOUT-03
- min-width: 481px = 2 columns for tablet (481-1024px) -- LAYOUT-02
- min-width: 1025px = 3 columns for desktop (>1024px) -- LAYOUT-01

Do NOT use `auto-fit` or `auto-fill` -- with exactly 3 items, explicit `repeat(N, 1fr)` is deterministic.
Do NOT touch any HTML templates -- all changes are CSS-only.
Do NOT modify the `#dark-toggle:checked + .page-wrapper` selectors or any toggle-related CSS.
  </action>
  <verify>
Run `hugo server -D` and check:
1. At viewport >1024px: 3 cards side by side
2. At viewport 481-1024px: 2 cards, third wraps to second row
3. At viewport <=480px: single column, cards stacked

Also verify `hugo --minify` builds without errors.
  </verify>
  <done>Three responsive breakpoints produce 3/2/1 column layouts. Hugo builds clean.</done>
</task>

<task type="auto">
  <name>Task 2: Add border-radius token and verify card typography</name>
  <files>assets/css/main.css</files>
  <action>
**Border-radius token (STYLE-01):**

Add `--radius-card: 0.75rem;` to the `:root` token block, in the Layout section (after `--max-width: 1080px;`):

```css
/* Layout */
--max-width: 1080px;
--radius-card: 0.75rem;
```

Then update `.project-card` to use the token instead of hardcoded `0.5rem`:

```css
.project-card {
  border-radius: var(--radius-card);  /* was: 0.5rem */
}
```

Why 0.75rem: Slightly larger than current 0.5rem, fits the bento grid aesthetic while staying conservative for the minimal design.

**Typography verification (STYLE-04):**

Verify (do NOT change) that these card typography rules already use fluid scale tokens:
- `.project-card h2` uses `var(--font-size-md)` -- CORRECT
- `.project-card p` uses `var(--font-size-sm)` -- CORRECT
- `.card-link` uses `var(--font-size-sm)` -- CORRECT

If any card typography rule uses a hardcoded px/rem value instead of a `--font-size-*` token, update it to use the appropriate token. Based on research, all three already use tokens, so this should be verification-only with no changes needed.
  </action>
  <verify>
1. Grep for `--radius-card` in main.css -- should appear in `:root` definition and `.project-card` usage
2. Grep for `border-radius: 0.5rem` in main.css -- should NOT appear (replaced by token)
3. Grep for `font-size:` in `.project-card` rules -- all should reference `var(--font-size-*)` tokens
4. Run `hugo --minify` -- builds without errors
  </verify>
  <done>Card border-radius uses `--radius-card` token (0.75rem). All card typography uses fluid scale tokens. No hardcoded font sizes in card rules.</done>
</task>

</tasks>

<verification>
After both tasks:
1. `hugo --minify` builds without errors
2. Dark mode toggle works in all 4 states (OS-light unchecked, OS-light checked, OS-dark unchecked, OS-dark checked)
3. Grid responds to viewport changes: 3 columns > 2 columns > 1 column
4. Cards have visibly rounded corners (0.75rem)
5. Typography scales smoothly across viewport sizes (fluid clamp tokens)
</verification>

<success_criteria>
- Desktop (>1024px): 3 project cards in a CSS Grid row
- Tablet (481-1024px): 2 columns, third card on second row
- Mobile (<=480px): single column, stacked cards
- Card border-radius uses `--radius-card: 0.75rem` token
- Card typography uses `--font-size-*` fluid tokens (verified, no regressions)
- Dark mode toggle unaffected by CSS changes
- Hugo production build succeeds
</success_criteria>

<output>
After completion, create `.planning/phases/05-bento-grid-layout/05-01-SUMMARY.md`
</output>
