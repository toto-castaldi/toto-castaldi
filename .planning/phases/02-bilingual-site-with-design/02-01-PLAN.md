---
phase: 02-bilingual-site-with-design
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - data/projects.toml
  - i18n/en.toml
  - i18n/it.toml
  - content/_index.en.md
  - content/_index.it.md
  - assets/css/main.css
autonomous: true
requirements: [CONT-02, CONT-03, CONT-04, CONT-05, DSGN-01, DSGN-02, DSGN-03, DSGN-04, UI-04, UI-05]

must_haves:
  truths:
    - "Project data for Docora, Lumio, and Helix exists with bilingual descriptions and subdomain URLs"
    - "i18n string files contain all UI labels in both Italian and English"
    - "Content front matter includes meta descriptions in both languages"
    - "CSS design system defines color tokens for light and dark modes via prefers-color-scheme"
    - "Modular typography scale uses CSS custom properties with clamp() fluid sizing"
    - "Dark mode colors meet WCAG AA contrast ratios (4.5:1 body text, 3:1 large text)"
  artifacts:
    - path: "data/projects.toml"
      provides: "Project card data for all three projects"
      contains: "[[project]]"
    - path: "i18n/en.toml"
      provides: "English UI translation strings"
      contains: "tagline"
    - path: "i18n/it.toml"
      provides: "Italian UI translation strings"
      contains: "tagline"
    - path: "assets/css/main.css"
      provides: "Complete design system with dark mode and typography"
      contains: "prefers-color-scheme"
  key_links:
    - from: "data/projects.toml"
      to: "layouts/index.html"
      via: ".Site.Data.projects.project range loop"
      pattern: "range.*\\.Site\\.Data\\.projects\\.project"
    - from: "i18n/en.toml"
      to: "layouts templates"
      via: 'Hugo T function'
      pattern: 'T "tagline"'
---

<objective>
Create the data layer and CSS design system that underpins the entire bilingual site.

Purpose: Establish all content data (project definitions, i18n strings, meta descriptions) and the visual foundation (design tokens, dark mode, typography scale, responsive layout primitives) so that Plan 02 can wire templates without design or data decisions.

Output: `data/projects.toml` with three projects, expanded `i18n/*.toml` files, content front matter with descriptions, and a complete `assets/css/main.css` design system.
</objective>

<execution_context>
@/home/toto/.claude/get-shit-done/workflows/execute-plan.md
@/home/toto/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/02-bilingual-site-with-design/02-RESEARCH.md
@.planning/phases/02-bilingual-site-with-design/02-CONTEXT.md
@.planning/phases/01-foundation-and-deploy-pipeline/01-01-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create project data, i18n strings, and content descriptions</name>
  <files>
    data/projects.toml
    i18n/en.toml
    i18n/it.toml
    content/_index.en.md
    content/_index.it.md
  </files>
  <action>
1. Create `data/projects.toml` using TOML array-of-tables syntax (`[[project]]`). Define three projects:
   - Docora: url = "https://docora.toto-castaldi.com", logo = "https://docora.toto-castaldi.com/images/logo.svg"
   - Lumio: url = "https://lumio.toto-castaldi.com", logo = "https://lumio.toto-castaldi.com/logo.svg"
   - Helix: url = "https://helix.toto-castaldi.com", logo = "https://helix.toto-castaldi.com/logo.svg"
   (All three logos verified available: HTTP 200 with Content-Type image/svg+xml as of 2026-02-18)

   Each project has a `[project.description]` map with `it` and `en` keys. Write meaningful placeholder descriptions that describe each project's purpose. Since exact descriptions are not provided, infer from the project names and context (these are software projects by a developer). Keep descriptions concise -- one sentence each.

   IMPORTANT: Use lowercase/snake_case keys only (Hugo lowercases TOML keys). Access path in templates will be `.Site.Data.projects.project`.

2. Expand `i18n/en.toml` with these keys (keep existing `siteTitle`):
   - `tagline`: "Software projects by Toto Castaldi"
   - `languageSwitch`: "Language"
   - `viewProject`: "Visit project"

3. Expand `i18n/it.toml` with these keys (keep existing `siteTitle`):
   - `tagline`: "Progetti software di Toto Castaldi"
   - `languageSwitch`: "Lingua"
   - `viewProject`: "Visita il progetto"

4. Update `content/_index.en.md` front matter: add `description: "Software projects by Toto Castaldi: Docora, Lumio, and Helix"`. Remove the placeholder body text.

5. Update `content/_index.it.md` front matter: add `description: "Progetti software di Toto Castaldi: Docora, Lumio e Helix"`. Remove the placeholder body text.
  </action>
  <verify>
Run `hugo server -D` and confirm no build errors. Verify data is accessible by checking Hugo output contains no template warnings. Check that `data/projects.toml` is valid TOML by running `hugo config` without errors.
  </verify>
  <done>
`data/projects.toml` exists with 3 projects, each having name, url, logo, and bilingual description. i18n files have tagline, languageSwitch, and viewProject keys in both languages. Content files have description in front matter and no placeholder body text.
  </done>
</task>

<task type="auto">
  <name>Task 2: Build CSS design system with dark mode, typography scale, and layout primitives</name>
  <files>
    assets/css/main.css
  </files>
  <action>
Rewrite `assets/css/main.css` completely. The file must contain:

**1. CSS Reset (keep existing box-sizing reset, expand slightly):**
```css
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
```

**2. Design Tokens on `:root` -- Light mode (default):**
- Colors: `--color-bg: #ffffff`, `--color-text: #1a1a1a`, `--color-text-muted: #6b7280`, `--color-border: #e5e7eb`, `--color-link: #2563eb`, `--color-link-hover: #1d4ed8`, `--color-card-bg: #ffffff`
- Typography scale using `clamp()` for fluid sizing (DSGN-03):
  - `--font-size-sm`: clamp(0.83rem, 0.44vw + 0.72rem, 1rem)
  - `--font-size-base`: clamp(1rem, 0.34vw + 0.91rem, 1.2rem)
  - `--font-size-md`: clamp(1.2rem, 0.41vw + 1.09rem, 1.44rem)
  - `--font-size-lg`: clamp(1.44rem, 0.49vw + 1.31rem, 1.73rem)
  - `--font-size-xl`: clamp(1.73rem, 0.59vw + 1.57rem, 2.07rem)
- Spacing: `--space-xs: 0.5rem`, `--space-sm: 1rem`, `--space-md: 1.5rem`, `--space-lg: 2.5rem`, `--space-xl: 4rem`, `--space-xxl: 6rem`
- Line height: `--line-height-body: 1.7`, `--line-height-heading: 1.2`
- Max width: `--max-width: 680px`

**3. Dark mode override via `@media (prefers-color-scheme: dark)`:**
- `--color-bg: #111827`, `--color-text: #f3f4f6`, `--color-text-muted: #9ca3af`, `--color-border: #374151`, `--color-link: #60a5fa`, `--color-link-hover: #93bbfd`, `--color-card-bg: #1f2937`

**WCAG AA Verification (DSGN-04):**
- Light: #1a1a1a on #ffffff = 17.4:1 (PASS), #6b7280 on #ffffff = 4.6:1 (PASS), #2563eb on #ffffff = 4.6:1 (PASS)
- Dark: #f3f4f6 on #111827 = 15.4:1 (PASS), #9ca3af on #111827 = 6.3:1 (PASS), #60a5fa on #111827 = 6.9:1 (PASS)

**4. Base styles:**
- `body`: font-family system-ui, -apple-system, sans-serif; font-size var(--font-size-base); line-height var(--line-height-body); color var(--color-text); background var(--color-bg); max-width var(--max-width); margin 0 auto; padding var(--space-xl) var(--space-md)
- `h1`: font-size var(--font-size-xl); line-height var(--line-height-heading); font-weight 700; margin-bottom var(--space-xs)
- `h2`: font-size var(--font-size-lg); line-height var(--line-height-heading); font-weight 700
- `p`: font-size var(--font-size-base); margin var(--space-xs) 0
- `a`: color var(--color-link); text-decoration-thickness 1px; text-underline-offset 0.15em
- `a:hover`: color var(--color-link-hover)
- `img`: max-width 100%; height auto; display block

**5. Layout components (classes for templates to use):**

`.site-header`: display flex; justify-content flex-end; align-items center; padding-bottom var(--space-lg); (language switcher goes top-right per user decision)

`.page-title`: text-align center; (for h1)

`.tagline`: font-size var(--font-size-sm); color var(--color-text-muted); text-align center; margin-bottom var(--space-xl); font-weight 400; (quiet subtitle per user decision)

`.project-cards`: display grid; gap var(--space-lg); padding var(--space-md) 0;

`.project-card`: position relative; border 1px solid var(--color-border); border-radius 0.5rem; padding var(--space-lg); background var(--color-card-bg); transition border-color 0.15s ease;

`.project-card:hover`: border-color var(--color-link);

`.project-logo`: width 3rem; height 3rem; margin-bottom var(--space-sm); object-fit contain;

`.project-card h2`: font-size var(--font-size-md); margin-bottom var(--space-xs);

`.project-card p`: color var(--color-text-muted); font-size var(--font-size-sm); margin-bottom var(--space-sm);

`.card-link`: font-size var(--font-size-sm); (the visible link text inside card)

`.card-link::after`: content ""; position absolute; inset 0; (makes whole card clickable -- pseudo-element overlay pattern, zero JS)

`.language-switch a`: font-size var(--font-size-sm); color var(--color-text-muted); text-decoration none; font-weight 500; letter-spacing 0.05em; text-transform uppercase;

`.language-switch a:hover`: color var(--color-link);

`.sr-only`: screen-reader-only utility (position absolute, clip, etc.)

**6. No media queries for card grid** -- single column layout at all viewport sizes (per discretion: centered column, 3 cards stack vertically). The `max-width: 680px` centered container handles this naturally. This satisfies UI-02 (cards stack vertically on mobile) because they always stack.

**7. Zero JavaScript** -- all interactivity via CSS only (UI-04).

Do NOT use text-align: center for the overall body. The body should be left-aligned for readability. Only the title and tagline are centered.
  </action>
  <verify>
Run `hugo server -D` and confirm no build errors (Hugo Pipes will process the CSS). Verify the CSS file is syntactically valid by checking no minification errors in Hugo output. Manually inspect that all CSS custom properties are defined in both light and dark mode blocks.
  </verify>
  <done>
`assets/css/main.css` contains a complete design system: CSS reset, custom properties for colors (light + dark), modular type scale with clamp(), spacing tokens, base element styles, and all component classes needed by Plan 02 templates. Zero JavaScript. All color pairs exceed WCAG AA 4.5:1 ratio.
  </done>
</task>

</tasks>

<verification>
1. `hugo server -D` builds without errors or warnings
2. `data/projects.toml` is valid and contains 3 project entries with bilingual descriptions
3. `i18n/en.toml` and `i18n/it.toml` contain tagline, languageSwitch, viewProject keys
4. `content/_index.en.md` and `content/_index.it.md` have description in front matter
5. `assets/css/main.css` contains `prefers-color-scheme` media query and `clamp()` font sizes
6. No JavaScript in any file
</verification>

<success_criteria>
Hugo builds cleanly with all data, i18n, content, and CSS files in place. The CSS design system defines all tokens needed by Plan 02 templates. The project data is ready for template rendering.
</success_criteria>

<output>
After completion, create `.planning/phases/02-bilingual-site-with-design/02-01-SUMMARY.md`
</output>
